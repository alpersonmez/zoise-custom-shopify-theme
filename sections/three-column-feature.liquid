<section class="three-column-feature">
  <div class="three-column-feature__container">
    <div class="three-column-feature__inner">
      {%- for block in section.blocks -%}
        <div class="three-column-feature__item">
          <div class="three-column-feature__image-wrapper">
            <img src="{{ block.settings.image | image_url: width: 768 }}" alt="{{ block.settings.image_alt | escape }}" class="three-column-feature__image">
            <div class="three-column-feature__content three-column-feature__content--{{ block.settings.text_position }}">
              {{ block.settings.text }}
            </div>
          </div>
          <a href="{{ block.settings.link }}" class="three-column-feature__link"></a>
        </div>
      {%- endfor -%}
    </div>
  </div>
  <style>
    .three-column-feature {
      width: 100%;
      padding: 0;
      margin: 0;
    }
    .three-column-feature__container {
  display: flex;
  flex-wrap: wrap;
  gap: 20px; /* Gap between items (default above 830px) */
  padding: 20px; /* Padding around the container (default above 830px) */
  width: 100%;
  box-sizing: border-box;
}

.three-column-feature__inner {
  display: flex;
  width: 100%;
  height: 100%;
  flex-wrap: wrap;
  gap: 20px; /* Gap between the items (default above 830px) */
}

.block__1, .block__2, .block__3 {
  position: relative;
  box-sizing: border-box;
}

.block__1, .block__2 {
  width: calc(33.333% - 20px); /* 3 blocks next to each other above 830px */
  flex: 1 1 calc(33.333% - 20px);
}

.block__3 {
  width: calc(33.333% - 20px); /* 3 blocks next to each other above 830px */
  flex: 1 1 calc(33.333% - 20px);
}

/* Adjust for screens below 830px */
@media (max-width: 830px) {
  .three-column-feature__container {
    gap: 10px; /* Gap between items */
    padding: 10px; /* Padding around the container */
  }

  .block__1, .block__2 {
    width: calc(50% - 10px); /* First two blocks next to each other */
    flex: 1 1 calc(50% - 10px);
  }

  .block__3 {
    width: 100%; /* Third block spans full width */
    flex: 1 1 100%;
  }
}


  </style>
</section>

{% schema %}
{
  "name": "Three Column Feature",
  "settings": [],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature Block",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "image_alt",
          "label": "Alt text for image"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "select",
          "id": "text_position",
          "label": "Text Position",
          "options": [
            {
              "value": "top",
              "label": "Top"
            },
            {
              "value": "middle",
              "label": "Middle"
            },
            {
              "value": "bottom",
              "label": "Bottom"
            }
          ],
          "default": "middle"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Three Column Feature",
      "category": "Custom"
    }
  ]
}
{% endschema %}
